{"componentChunkName":"component---src-templates-blog-post-js","path":"/react.js/zustandì˜-shallow-comparisonìœ¼ë¡œ-ìµœì í™”í•˜ê¸°/","result":{"data":{"site":{"siteMetadata":{"title":"ì‚¬ì§„ì°ëŠ” ì›¹ ê°œë°œìì˜ ë¸”ë¡œê·¸","author":"Donghoon Song","siteUrl":"https://donghoon-song.github.io","comment":{"utterances":"donghoon-song/hoon-blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"1dcd6d36-f21a-5ccf-ad03-bb1d4a02d33e","excerpt":"Zustand storeì—ì„œ ê°ì²´ ìƒíƒœë¥¼ êµ¬ë…í•  ë•Œ  ë¹„êµë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. Zustandì˜ ê¸°ë³¸ ë™ì‘ ZustandëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒíƒœë¥¼ ë¹„êµí•  ë•Œ Object.isë¥¼ ì‚¬ìš©í•œë‹¤. shallowâ€¦","html":"<p>Zustand storeì—ì„œ ê°ì²´ ìƒíƒœë¥¼ êµ¬ë…í•  ë•Œ <code class=\"language-text\">shallow</code> ë¹„êµë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤.</p>\n<h2 id=\"zustandì˜-ê¸°ë³¸-ë™ì‘\" style=\"position:relative;\"><a href=\"#zustand%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EB%8F%99%EC%9E%91\" aria-label=\"zustandì˜ ê¸°ë³¸ ë™ì‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Zustandì˜ ê¸°ë³¸ ë™ì‘</h2>\n<p>ZustandëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìƒíƒœë¥¼ ë¹„êµí•  ë•Œ <a href=\"https://github.com/pmndrs/zustand/blob/main/src/vanilla.ts#L73\">Object.is</a>ë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n<h2 id=\"shallow-ë¹„êµë€\" style=\"position:relative;\"><a href=\"#shallow-%EB%B9%84%EA%B5%90%EB%9E%80\" aria-label=\"shallow ë¹„êµë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>shallow ë¹„êµë€?</h2>\n<p><code class=\"language-text\">shallow</code>ëŠ” ê°„ë‹¨í•œ ë°ì´í„°ì— ëŒ€í•´ì„œ ë¹ ë¥´ê²Œ ë¹„êµí•  ìˆ˜ ìˆëŠ” ë°©ì‹ì´ë‹¤. ì¤‘ì²©ëœ ê°ì²´ì˜ ê²½ìš°ì—ëŠ” ë‚´ë¶€ ì†ì„±ê¹Œì§€ ë¹„êµí•˜ì§€ ì•Šê³  ì°¸ì¡°ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨í•œë‹¤. ì´ë¥¼ í†µí•´ ì„ íƒìì—ì„œ ë°˜í™˜í•˜ëŠ” ê°ì²´ê°€ ìƒˆë¡œ ìƒì„±ë˜ë”ë¼ë„ ì‹¤ì œë¡œ í•„ìš”í•œ ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¦¬ë Œë”ë§ì„ í”¼í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì•„ë˜ ì²˜ëŸ¼ <code class=\"language-text\">shallow</code>ë¥¼ ì „ë‹¬í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> shallow <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand/shallow'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useUserStore</span><span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\">store</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>user<span class=\"token operator\">?.</span>id<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>user<span class=\"token operator\">?.</span>name<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    shallow <span class=\"token comment\">// ğŸ‘ˆ ëª…ì‹œì  ì„¤ì • í•„ìš”</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"primitive-íƒ€ì…-ë¹„êµ\" style=\"position:relative;\"><a href=\"#primitive-%ED%83%80%EC%9E%85-%EB%B9%84%EA%B5%90\" aria-label=\"primitive íƒ€ì… ë¹„êµ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Primitive íƒ€ì… ë¹„êµ</h3>\n<p>ìˆ«ì, ë¬¸ìì—´, ë¶ˆë¦¬ì–¸ ë“± primitive íƒ€ì…ì€ <code class=\"language-text\">Object.is</code>ì™€ <code class=\"language-text\">shallow</code> ëª¨ë‘ ê°’ ìì²´ë¥¼ ë¹„êµí•œë‹¤. ë”°ë¼ì„œ, primitive ê°’ì„ ì„ íƒìë¡œ ì‚¬ìš©í•  ê²½ìš° ë³„ë„ì˜ <code class=\"language-text\">shallow</code> ë¹„êµ ì—†ì´ë„ ê°’ì´ ê°™ìœ¼ë©´ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<h3 id=\"ê°ì²´-ë¹„êµ\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%B9%84%EA%B5%90\" aria-label=\"ê°ì²´ ë¹„êµ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°ì²´ ë¹„êµ</h3>\n<p>ê°ì²´ë¥¼ ë¹„êµí•  ë•Œ <code class=\"language-text\">shallow</code>ëŠ” ê° ê°ì²´ì˜ ìµœìƒìœ„ ì†ì„± ê°’ë§Œì„ ë¹„êµí•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> shallow <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand/shallow'</span>\n\n<span class=\"token keyword\">const</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">is</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">,</span> obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">,</span> obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span></code></pre></div>\n<p>ìœ„ì˜ ì˜ˆì œì—ì„œ ë‘ ê°ì²´ì˜ ì°¸ì¡°ê°’ì€ ë‹¤ë¥´ì§€ë§Œ top-level ì†ì„±(a, b, c)ì˜ ê°’ì´ ëª¨ë‘ ê°™ê¸° ë•Œë¬¸ì— <code class=\"language-text\">shallow</code> í•¨ìˆ˜ëŠ” <code class=\"language-text\">true</code>ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> shallow <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand/shallow'</span>\n\n<span class=\"token keyword\">const</span> obj1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> d<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> obj2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> a<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> b<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> c<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> d<span class=\"token operator\">:</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">is</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">,</span> obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">shallow</span><span class=\"token punctuation\">(</span>obj1<span class=\"token punctuation\">,</span> obj2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span></code></pre></div>\n<p>í•˜ì§€ë§Œ ê°ì²´ ë‚´ë¶€ì— ì¤‘ì²©ëœ ê°ì²´ê°€ í¬í•¨ë˜ì–´ ìˆì„ ê²½ìš°, shallow ë¹„êµëŠ” í•´ë‹¹ ì†ì„±ì˜ ì°¸ì¡°ë§Œì„ ë¹„êµí•˜ê¸° ë•Œë¬¸ì— <code class=\"language-text\">false</code>ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<h2 id=\"shallow-ë¹„êµì˜-ë™ì‘-ì›ë¦¬\" style=\"position:relative;\"><a href=\"#shallow-%EB%B9%84%EA%B5%90%EC%9D%98-%EB%8F%99%EC%9E%91-%EC%9B%90%EB%A6%AC\" aria-label=\"shallow ë¹„êµì˜ ë™ì‘ ì›ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>shallow ë¹„êµì˜ ë™ì‘ ì›ë¦¬</h2>\n<p>Zustandì˜ shallow í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë‘ ê°ì²´ë¥¼ ë¹„êµí•œë‹¤.</p>\n<ol>\n<li>\n<p>ë‘ ê°ì²´ê°€ ê°™ì€ ì°¸ì¡°(ë©”ëª¨ë¦¬ ì£¼ì†Œ)ë¥¼ ê°€ì§€ë©´ trueë¥¼ ë°˜í™˜í•œë‹¤.</p>\n</li>\n<li>\n<p>ë‘ ê°ì²´ì˜ í‚¤ ê°œìˆ˜ê°€ ë‹¤ë¥´ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤.</p>\n</li>\n<li>\n<p>ê° ì†ì„± ê°’ì„ ë¹„êµí•˜ë©°, ê°’ì´ ë‹¤ë¥´ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤. ë‹¨, ê°ì²´ë‚˜ ë°°ì—´ì¸ ê²½ìš° ì°¸ì¡°ê°€ ê°™ìœ¼ë©´ trueë¥¼ ë°˜í™˜í•œë‹¤.</p>\n</li>\n<li>\n<p>ì†ì„± ê°’ì´ ê°ì²´ë‚˜ ë°°ì—´ì´ë©´ ì°¸ì¡°(ë©”ëª¨ë¦¬ ì£¼ì†Œ)ë¥¼ ë¹„êµí•˜ì§€ë§Œ, ìµœìƒìœ„ ì†ì„±ì˜ ê°’ì´ ë™ì¼í•˜ë©´ ê°™ë‹¤ê³  íŒë‹¨í•œë‹¤.</p>\n</li>\n</ol>\n<p>githubì— ìˆëŠ” <code class=\"language-text\">shallow</code> í•¨ìˆ˜ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> shallow<span class=\"token operator\">&lt;</span><span class=\"token constant\">T</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span>objA<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">,</span> objB<span class=\"token operator\">:</span> <span class=\"token constant\">T</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">is</span><span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">typeof</span> objA <span class=\"token operator\">!==</span> <span class=\"token string\">'object'</span> <span class=\"token operator\">||</span>\n    objA <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">||</span>\n    <span class=\"token keyword\">typeof</span> objB <span class=\"token operator\">!==</span> <span class=\"token string\">'object'</span> <span class=\"token operator\">||</span>\n    objB <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objA <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Map</span> <span class=\"token operator\">&amp;&amp;</span> objB <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Map</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">.</span>size <span class=\"token operator\">!==</span> objB<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> objA<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">is</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objA <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Set</span> <span class=\"token operator\">&amp;&amp;</span> objB <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">.</span>size <span class=\"token operator\">!==</span> objB<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> objA<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>objB<span class=\"token punctuation\">.</span><span class=\"token function\">has</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> keysA <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>keysA<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>objB<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> keyA <span class=\"token keyword\">of</span> keysA<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">!</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>objB<span class=\"token punctuation\">,</span> keyA <span class=\"token keyword\">as</span> string<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n      <span class=\"token operator\">!</span>Object<span class=\"token punctuation\">.</span><span class=\"token function\">is</span><span class=\"token punctuation\">(</span>objA<span class=\"token punctuation\">[</span>keyA <span class=\"token keyword\">as</span> keyof <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> objB<span class=\"token punctuation\">[</span>keyA <span class=\"token keyword\">as</span> keyof <span class=\"token constant\">T</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ë¶ˆí•„ìš”í•œ-ë¦¬ë Œë”ë§ì„-ë°©ì§€\" style=\"position:relative;\"><a href=\"#%EB%B6%88%ED%95%84%EC%9A%94%ED%95%9C-%EB%A6%AC%EB%A0%8C%EB%8D%94%EB%A7%81%EC%9D%84-%EB%B0%A9%EC%A7%80\" aria-label=\"ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€</h2>\n<p>ì´ì œ ë³¸ë¡ ìœ¼ë¡œ ë„˜ì–´ ì™€ ë³´ì. Zustandì˜ useStore í›…ì—ì„œ <code class=\"language-text\">shallow</code>ë¥¼ í™œìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> create <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand'</span>\n\n<span class=\"token keyword\">const</span> useUserStore <span class=\"token operator\">=</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">set</span></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'John'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ì „ì²´ userë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜</span>\n  <span class=\"token function-variable function\">setUser</span><span class=\"token operator\">:</span> <span class=\"token parameter\">user</span> <span class=\"token operator\">=></span> <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// user ê°ì²´ì˜ ì¼ë¶€ ì†ì„±ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜</span>\n  <span class=\"token function-variable function\">updateUser</span><span class=\"token operator\">:</span> <span class=\"token parameter\">updates</span> <span class=\"token operator\">=></span>\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>updates <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useUserStore</span><span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\">store</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      id<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>user<span class=\"token operator\">?.</span>id<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> store<span class=\"token punctuation\">.</span>user<span class=\"token operator\">?.</span>name<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    shallow <span class=\"token comment\">// ğŸ‘ˆ ëª…ì‹œì  ì„¤ì • í•„ìš”</span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ì´ˆê¸° ìƒíƒœ: { user: { id: 123, name: 'John' } }</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> id1 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 123 ë°˜í™˜</span>\n\n<span class=\"token comment\">// 1. idê°€ ë³€ê²½ë˜ì§€ ì•Šì€ ì—…ë°ì´íŠ¸</span>\n<span class=\"token function\">setStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> id2 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 123 â†’ ë¦¬ë Œë”ë§ ë°œìƒ âŒ</span>\n\n<span class=\"token comment\">// 2. idê°€ ë³€ê²½ëœ ì—…ë°ì´íŠ¸</span>\n<span class=\"token function\">setStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">456</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> id3 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 123 â†’ ë¦¬ë Œë”ë§ ë°œìƒ âœ…</span>\n\n<span class=\"token comment\">// 3. emailì´ ì¶”ê°€ëœ ì—…ë°ì´íŠ¸</span>\n<span class=\"token function\">setStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">'test@test.com'</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> id4 <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 123 â†’ ë¦¬ë Œë”ë§ ë°œìƒ âŒ</span></code></pre></div>\n<p><code class=\"language-text\">shallow</code>ë¥¼ ì‚¬ìš©í•˜ë©´ 1ë²ˆì˜ ê²½ìš° id2ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì™œëƒí•˜ë©´ nameì€ ë°”ë€Œì—ˆì§€ë§Œ êµ¬ë…í•˜ê³  ìˆëŠ” idì˜ ê°’ì€ 123 ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.</p>\n<p>2ë²ˆì˜ ê²½ìš°ëŠ” êµ¬ë…í•˜ê³  ìˆëŠ” idê°’ì´ ë‹¬ë¼ì¡Œìœ¼ë¯€ë¡œ id3ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë°œìƒí•œë‹¤.</p>\n<p>3ë²ˆì²˜ëŸ¼ ìƒˆë¡œìš´ ì†ì„±ì´ ì¶”ê°€ë˜ì–´ë„ idê°’ì€ ë°”ë€Œì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— id4ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.\në§Œì•½ì— <code class=\"language-text\">shallow</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ 1ë²ˆ, 2ë²ˆ, 3ë²ˆ ëª¨ë‘ ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ê²ƒì´ë‹¤.</p>\n<p>ì´ë ‡ê²Œ ì¤‘ì²©ë˜ì§€ ì•ŠëŠ” ê°ì²´ë‚˜ ë°°ì—´ì„ êµ¬ë…í•˜ëŠ” ê²½ìš° <code class=\"language-text\">shallow</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</p>\n<h2 id=\"í•„ìš”í•œ-ê°’ë§Œ-êµ¬ë…í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%ED%95%84%EC%9A%94%ED%95%9C-%EA%B0%92%EB%A7%8C-%EA%B5%AC%EB%8F%85%ED%95%98%EA%B8%B0\" aria-label=\"í•„ìš”í•œ ê°’ë§Œ êµ¬ë…í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•„ìš”í•œ ê°’ë§Œ êµ¬ë…í•˜ê¸°</h2>\n<p><code class=\"language-text\">shallow</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì´ë ‡ê²Œ í•„ìš”í•œ ê°’ë§Œ êµ¬ë…í•˜ë©´ primitive íƒ€ì…ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— <code class=\"language-text\">Object.is</code>ì—ì„œ ê°™ë‹¤ê³  íŒë‹¨í•´ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ë³´í†µì˜ ê²½ìš°ì—ëŠ” ì´ë ‡ê²Œ í•„ìš”í•œ ê°’ë§Œ êµ¬ë…í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useUserNo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useUserStore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">store</span> <span class=\"token operator\">=></span> store<span class=\"token punctuation\">.</span>user<span class=\"token operator\">?.</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"ë¶ˆê°€í”¼í•˜ê²Œ-ê°ì²´ë¥¼-êµ¬ë…í•˜ëŠ”-ê²½ìš°\" style=\"position:relative;\"><a href=\"#%EB%B6%88%EA%B0%80%ED%94%BC%ED%95%98%EA%B2%8C-%EA%B0%9D%EC%B2%B4%EB%A5%BC-%EA%B5%AC%EB%8F%85%ED%95%98%EB%8A%94-%EA%B2%BD%EC%9A%B0\" aria-label=\"ë¶ˆê°€í”¼í•˜ê²Œ ê°ì²´ë¥¼ êµ¬ë…í•˜ëŠ” ê²½ìš° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶ˆê°€í”¼í•˜ê²Œ ê°ì²´ë¥¼ êµ¬ë…í•˜ëŠ” ê²½ìš°</h2>\n<p>í•˜ì§€ë§Œ ê°ì²´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê°’ì´ ë§ê³  ì—…ë°ì´íŠ¸ê°€ ìì£¼ ì¼ì–´ë‚œë‹¤ë©´ ì´ë ‡ê²Œ ê°ì²´ë¥¼ í•œë²ˆì— êµ¬ë…í•˜ê³  <code class=\"language-text\">shallow</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> create <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> shallow <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'zustand/shallow'</span>\n\n<span class=\"token comment\">// Zustand ìŠ¤í† ì–´ ì •ì˜: ì—¬ëŸ¬ user ê´€ë ¨ ì†ì„±ì„ í¬í•¨í•©ë‹ˆë‹¤.</span>\n<span class=\"token keyword\">const</span> useUserStore <span class=\"token operator\">=</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">set</span></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    id<span class=\"token operator\">:</span> <span class=\"token number\">123</span><span class=\"token punctuation\">,</span>\n    name<span class=\"token operator\">:</span> <span class=\"token string\">'John'</span><span class=\"token punctuation\">,</span>\n    email<span class=\"token operator\">:</span> <span class=\"token string\">'john@example.com'</span><span class=\"token punctuation\">,</span>\n    phone<span class=\"token operator\">:</span> <span class=\"token string\">'010-1234-5678'</span><span class=\"token punctuation\">,</span>\n    address<span class=\"token operator\">:</span> <span class=\"token string\">'Seoul, Korea'</span><span class=\"token punctuation\">,</span>\n    role<span class=\"token operator\">:</span> <span class=\"token string\">'user'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// user ê°ì²´ì˜ ì¼ë¶€ ë˜ëŠ” ì „ì²´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜</span>\n  <span class=\"token function-variable function\">updateUser</span><span class=\"token operator\">:</span> <span class=\"token parameter\">updates</span> <span class=\"token operator\">=></span>\n    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      user<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>state<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>updates <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ì „ì²´ user ê°ì²´ë¥¼ shallow ë¹„êµì™€ í•¨ê»˜ êµ¬ë…í•˜ëŠ” í›…</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">useUserStore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">state</span> <span class=\"token operator\">=></span> state<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">,</span> shallow<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸: ì—¬ëŸ¬ user ê´€ë ¨ ì†ì„±ì„ ë Œë”ë§í•©ë‹ˆë‹¤.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">UserComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token function\">useUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ì „ì²´ user ê°ì²´ë¥¼ êµ¬ë…</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'UserComponent rendered'</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token constant\">ID</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Name<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Email<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Phone<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>phone<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Address<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>Role<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>user<span class=\"token punctuation\">.</span>role<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ì˜ˆì‹œ ì—…ë°ì´íŠ¸ ì½”ë“œ (ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ì—ì„œ í˜¸ì¶œ)</span>\n<span class=\"token comment\">// ì˜ˆë¥¼ ë“¤ì–´, 1ì´ˆ í›„ nameê³¼ emailì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš°:</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  useUserStore\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">updateUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token operator\">:</span> <span class=\"token string\">'Jane'</span><span class=\"token punctuation\">,</span> email<span class=\"token operator\">:</span> <span class=\"token string\">'jane@example.com'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> UserComponent</code></pre></div>\n<h2 id=\"ê²°ë¡ \" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"ê²°ë¡  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ë¡ </h2>\n<p>ì •ë¦¬í•´ë³´ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ”</p>\n<ol>\n<li>\n<p>ê°ì²´ì˜ íŠ¹ì • ì†ì„±ë§Œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</p>\n</li>\n<li>\n<p>ì¤‘ì²©ë˜ì§€ ì•Šì€ ê°ì²´ë‚˜ ë°°ì—´ì„ êµ¬ë…í•˜ëŠ” ê²½ìš° <code class=\"language-text\">shallow</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.</p>\n</li>\n</ol>","frontmatter":{"title":"Zustandì˜ shallow comparisonìœ¼ë¡œ ìµœì í™”í•˜ê¸°","date":"February 02, 2025"}}},"pageContext":{"slug":"/react.js/zustandì˜-shallow-comparisonìœ¼ë¡œ-ìµœì í™”í•˜ê¸°/","previous":{"fields":{"slug":"/css/ê°€ìš´ë°-ì •ë ¬ëœ-ë„¤ë¹„ê²Œì´ì…˜-í˜¹ì€-í—¤ë”-gridë¡œ-êµ¬í˜„í•˜ê¸°/"},"frontmatter":{"title":"ê°€ìš´ë° ì •ë ¬ëœ ë„¤ë¹„ê²Œì´ì…˜ í˜¹ì€ í—¤ë” gridë¡œ êµ¬í˜„í•˜ê¸°"}},"next":{"fields":{"slug":"/css/css-white-space-ì†ì„±-ì ì¬ì ì†Œì—-í™œìš©í•˜ê¸°!/"},"frontmatter":{"title":"CSS white-space ì†ì„± ì ì¬ì ì†Œì— í™œìš©í•˜ê¸°!"}}}},"staticQueryHashes":["2486386679","3128451518"],"slicesMap":{}}