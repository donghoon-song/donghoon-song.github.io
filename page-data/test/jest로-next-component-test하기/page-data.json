{"componentChunkName":"component---src-templates-blog-post-js","path":"/test/jestë¡œ-next-component-testí•˜ê¸°/","result":{"data":{"site":{"siteMetadata":{"title":"ì‚¬ì§„ì°ëŠ” ì›¹ ê°œë°œìì˜ ë¸”ë¡œê·¸","author":"Donghoon Song","siteUrl":"https://donghoon-song.github.io","comment":{"utterances":"donghoon-song/hoon-blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"4d52a880-6fac-51fd-a85f-756f03dcccf5","excerpt":"Next.js í™˜ê²½ì˜ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œ Reportë¼ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ê²ªì—ˆë˜ ì´ìŠˆë“¤ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ë¨¼ì € í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë§ì€ ì˜ˆì œì—ì„œ ë‹¤ë£¨ëŠ” ê²ƒì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ì˜ ê¸°ë³¸ì€  í™•ì¸í•˜ëŠ” ê²ƒì´ë¼ ìƒê°í•˜ì—¬ renderì‹œí‚¤ê³  ë‚œ í›„ì— ë‹¤ìŒ ê²ƒë“¤ì„ ìƒê°í•´ë³´ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤. ë¶„ëª…íˆ ë§ˆìŒì²˜ëŸ¼ ì‰½ê²Œ ë˜ì§€ ì•Šì„ ê±°ë¼ëŠ” ê²ƒì„ ì•Œì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë°”ë¡œ ì²«ë²ˆì§¸ ì´ìŠˆë¥¼ ê²ªì—ˆìŠµë‹ˆë‹¤. Jest useNavigate() may be used only in the context of a Routerâ€¦","html":"<h3 id=\"nextjs-í™˜ê²½ì˜-ì‹¤ë¬´-í”„ë¡œì íŠ¸ì—ì„œ-reportë¼ëŠ”-í˜ì´ì§€-ì»´í¬ë„ŒíŠ¸ë¥¼-ì²˜ìŒ-í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ-ê²ªì—ˆë˜-ì´ìŠˆë“¤ì„-ì •ë¦¬í–ˆìŠµë‹ˆë‹¤\" style=\"position:relative;\"><a href=\"#nextjs-%ED%99%98%EA%B2%BD%EC%9D%98-%EC%8B%A4%EB%AC%B4-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EC%97%90%EC%84%9C-report%EB%9D%BC%EB%8A%94-%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EB%A5%BC-%EC%B2%98%EC%9D%8C-%ED%85%8C%EC%8A%A4%ED%8A%B8%ED%95%98%EB%A9%B4%EC%84%9C-%EA%B2%AA%EC%97%88%EB%8D%98-%EC%9D%B4%EC%8A%88%EB%93%A4%EC%9D%84-%EC%A0%95%EB%A6%AC%ED%96%88%EC%8A%B5%EB%8B%88%EB%8B%A4\" aria-label=\"nextjs í™˜ê²½ì˜ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œ reportë¼ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ê²ªì—ˆë˜ ì´ìŠˆë“¤ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Next.js í™˜ê²½ì˜ ì‹¤ë¬´ í”„ë¡œì íŠ¸ì—ì„œ Reportë¼ëŠ” í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒ í…ŒìŠ¤íŠ¸í•˜ë©´ì„œ ê²ªì—ˆë˜ ì´ìŠˆë“¤ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</h3>\n<p>ë¨¼ì € í…ŒìŠ¤íŠ¸ ì½”ë“œì˜ ë§ì€ ì˜ˆì œì—ì„œ ë‹¤ë£¨ëŠ” ê²ƒì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ì˜ ê¸°ë³¸ì€ <code class=\"language-text\">ì»´í¬ë„ŒíŠ¸ê°€ ì œëŒ€ë¡œ renderë˜ëŠ”ì§€</code> í™•ì¸í•˜ëŠ” ê²ƒì´ë¼ ìƒê°í•˜ì—¬ renderì‹œí‚¤ê³  ë‚œ í›„ì— ë‹¤ìŒ ê²ƒë“¤ì„ ìƒê°í•´ë³´ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤. ë¶„ëª…íˆ ë§ˆìŒì²˜ëŸ¼ ì‰½ê²Œ ë˜ì§€ ì•Šì„ ê±°ë¼ëŠ” ê²ƒì„ ì•Œì•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Report <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/TabContent/Report'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Report'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Report</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë°”ë¡œ ì²«ë²ˆì§¸ ì´ìŠˆë¥¼ ê²ªì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>Jest useNavigate() may be used only in the context of a Router component</p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/199504248-26f9ee11-51bf-4769-a18d-65c42bb7e4d3.png\" alt=\"image\"></p>\n<p>ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ useNavigate()ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆëŠ”ë° Router componentë¡œ ê°ì‹¸ì§€ ì•Šì•„ì„œ ì—ëŸ¬ê°€ ë‚¬ìŠµë‹ˆë‹¤. Router componentë¡œ ê°ì‹¸ì„œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Report <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/TabContent/Report'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Report'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Report</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ì œëŠ” react-redux ê´€ë ¨ ì—ëŸ¬ê°€ ë‚¬ìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>could not find react-redux context value; please ensure the component is wrapped in a <code class=\"language-text\">&lt;Provider></code></p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/199507538-c5626084-0149-4a54-ade4-7455c5a394fc.png\" alt=\"image\"></p>\n<blockquote>\n<p><a href=\"https://redux.js.org/usage/writing-tests#components\">Writing Tests | Redux</a></p>\n</blockquote>\n<p>ê´€ë ¨ ì´ìŠˆë¥¼ ê²€ìƒ‰í•´ë³´ë‹ˆ reduxë¥¼ testì—ì„œ ì‚¬ìš©í•  ë•Œ ê°€ì´ë“œë¼ì¸ì´ ìˆì–´ í•´ë‹¹ ì½”ë“œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// src/utils/test-utils.tsx</span>\n\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> PropsWithChildren <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> render <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> RenderOptions <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@testing-library/react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> configureStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@reduxjs/toolkit'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> PreloadedState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@reduxjs/toolkit'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-redux'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token keyword\">type</span> <span class=\"token punctuation\">{</span> AppStore<span class=\"token punctuation\">,</span> RootState <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> reducers <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name\">ExtendedRenderOptions</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Omit<span class=\"token operator\">&lt;</span>RenderOptions<span class=\"token punctuation\">,</span> <span class=\"token string\">'queries'</span><span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n\tpreloadedState<span class=\"token operator\">?</span><span class=\"token operator\">:</span> PreloadedState<span class=\"token operator\">&lt;</span>RootState<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\tstore<span class=\"token operator\">?</span><span class=\"token operator\">:</span> AppStore<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">renderWithProviders</span><span class=\"token punctuation\">(</span>\n\t<span class=\"token parameter\">ui<span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span>ReactElement<span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">{</span>\n\t\tpreloadedState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\tstore <span class=\"token operator\">=</span> <span class=\"token function\">configureStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> reducer<span class=\"token operator\">:</span> reducers<span class=\"token punctuation\">,</span> preloadedState <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token operator\">...</span>renderOptions\n\t<span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> ExtendedRenderOptions <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">function</span> <span class=\"token function\">Wrapper</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> PropsWithChildren<span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token constant\">JSX</span><span class=\"token punctuation\">.</span>Element <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Provider</span></span> <span class=\"token attr-name\">store</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Provider</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> store<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>ui<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> wrapper<span class=\"token operator\">:</span> Wrapper<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>renderOptions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Report <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/TabContent/Report'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderWithProviders <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test-utils'</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Report'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">renderWithProviders</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Report</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë‹¤ì‹œ ëŒë ¤ë³´ë‹ˆê¹Œ ìƒˆë¡œìš´ ì—ëŸ¬ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤. ê²€ìƒ‰í•´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì€ ì†”ë£¨ì…˜ì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<blockquote>\n<p>window.matchMedia is not a function</p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/199510198-e94fa6f5-59f3-456a-8110-e55036b59fd3.png\" alt=\"image\"></p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/39830580/jest-test-fails-typeerror-window-matchmedia-is-not-a-function\">Jest test fails : TypeError: window.matchMedia is not a function</a>\n<a href=\"https://jestjs.io/docs/manual-mocks#mocking-methods-which-are-not-implemented-in-jsdom\">Manual Mocks Â· Jest</a></p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Report <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/TabContent/Report'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderWithProviders <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test-utils'</span>\n\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span> <span class=\"token string\">'matchMedia'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n\twritable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\tvalue<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mockImplementation</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">query</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\tmatches<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\tmedia<span class=\"token operator\">:</span> query<span class=\"token punctuation\">,</span>\n\t\tonchange<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n\t\taddListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Deprecated</span>\n\t\tremoveListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// Deprecated</span>\n\t\taddEventListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\tremoveEventListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\tdispatchEvent<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Report'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">renderWithProviders</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Report</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/199513145-42ef17da-c200-49b0-82b8-3f5a5abb910d.png\" alt=\"image\"></p>\n<p>ë‹¤ì‹œ ëŒë ¤ë´¤ëŠ”ë° ë‹¤ë¥¸ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë¹„ìŠ·í•œ ì›ì¸ì˜ ì—ëŸ¬ì¸ê±° ê°™ì•„ì„œ ë” ì°¾ì•„ë´¤ê³ , windowê°€ ì•„ë‹Œ global ê°ì²´ì˜ matchMediaë¥¼ mockingí•´ì•¼ í•˜ëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> Report <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/TabContent/Report'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserRouter <span class=\"token keyword\">as</span> Router <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-router-dom'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderWithProviders <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/utils/test-utils'</span><span class=\"token punctuation\">;</span>\n\nglobal<span class=\"token punctuation\">.</span>matchMedia <span class=\"token operator\">=</span>\n\tglobal<span class=\"token punctuation\">.</span>matchMedia <span class=\"token operator\">||</span>\n\t<span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n\t\t\taddListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t\tremoveListener<span class=\"token operator\">:</span> jest<span class=\"token punctuation\">.</span><span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Report'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should render'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">renderWithProviders</span><span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n\t\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Report</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n\t\t\t</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Router</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ë“œë””ì–´ ì •ìƒì ìœ¼ë¡œ ì‘ë™í–ˆìŠµë‹ˆë‹¤ ğŸ™‚</p>\n<p>global.matchMediaë¥¼ mockingí•˜ëŠ” ë¶€ë¶„ì€ ê³µí†µì ìœ¼ë¡œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ì˜ì—­ì—ë‹¤ê°€ ë„£ì–´ì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.</p>","frontmatter":{"title":"Jestë¡œ next component testí•˜ê¸°","date":"November 02, 2022"}}},"pageContext":{"slug":"/test/jestë¡œ-next-component-testí•˜ê¸°/","previous":{"fields":{"slug":"/TIL/20220829-til/"},"frontmatter":{"title":"20220829 TIL"}},"next":{"fields":{"slug":"/books/ì‹¤ìš©ì£¼ì˜-í”„ë¡œê·¸ë˜ë¨¸-ë¦¬ë·°-(1ì¥)/"},"frontmatter":{"title":"ì‹¤ìš©ì£¼ì˜ í”„ë¡œê·¸ë˜ë¨¸ ë¦¬ë·° (1ì¥)"}}}},"staticQueryHashes":["2486386679","3128451518"],"slicesMap":{}}