{"componentChunkName":"component---src-templates-blog-post-js","path":"/supabase/supabase-bucket-new-row-violates-row-level-security-policy-for-table-\"objects\"-이슈-해결법(policy-설정법)/","result":{"data":{"site":{"siteMetadata":{"title":"사진찍는 웹 개발자의 블로그","author":"Donghoon Song","siteUrl":"https://donghoon-song.github.io","comment":{"utterances":"donghoon-song/hoon-blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"8cb3b8c1-4487-5e53-91bc-bd9e6ecacee1","excerpt":"이슈 supabase storage bucket에서 권한이 없는 경로로 operation을 수행하면 다음과 같은 권한 이슈가 발생합니다. 아래 이슈는 제가 권한이 없는 경로로 image를 upload할 때 발생했습니다. image image  해결 권한이 없으면 권한을 설정해주면 됩니다! bucket policy 메뉴로 접속합니다. image 해당 bucket의 New policy 메뉴를 클릭해서 새로운 정책을 추가합니다. image…","html":"<h2 id=\"이슈\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%88\" aria-label=\"이슈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이슈</h2>\n<p>supabase storage bucket에서 권한이 없는 경로로 operation을 수행하면 다음과 같은 권한 이슈가 발생합니다.</p>\n<p>아래 이슈는 제가 권한이 없는 경로로 image를 upload할 때 발생했습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217840289-d7da44bb-1145-4ac2-b549-fc6a606d6ab7.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217840234-b4ee8b65-6966-400d-9d25-f0c3cb415b7b.png\" alt=\"image\"></p>\n<p><code class=\"language-text\">new row violates row-level security policy for table \\\"objects\\\"</code></p>\n<h2 id=\"해결\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"해결 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결</h2>\n<p>권한이 없으면 권한을 설정해주면 됩니다! bucket policy 메뉴로 접속합니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217853203-8ec72588-29d3-4605-86a6-4ad7a141d281.png\" alt=\"image\"></p>\n<p>해당 bucket의 New policy 메뉴를 클릭해서 새로운 정책을 추가합니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217854925-e02b417d-e4b4-4018-b1ee-d2073e871cde.png\" alt=\"image\"></p>\n<p>저는 간단하게 기존의 템플릿에서 가져오도록 했습니다.</p>\n<p>커스터마이징이 필요하시면 아래 버튼을 클릭하시면 됩니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217840069-886c3b10-5558-41a0-81ca-cb9f2d59624b.png\" alt=\"image\"></p>\n<p>맨 첫번째 정책인 “public folder에 있는 JPG image에 대해 유저에게 권한 부여하기”를 선택합니다.\n<img src=\"https://user-images.githubusercontent.com/32301380/217840460-064c48a7-501b-433a-a5e3-8ec3ae82e280.png\" alt=\"image\"></p>\n<p>여기서 Allowed operation에 체크해주시고, 저는 <code class=\"language-text\">Policy definition</code>에서 JPG image인 조건을 제거했습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217855693-f0b90ff5-6b05-4a06-90aa-6b291fa65ced.png\" alt=\"image\"></p>\n<p>그렇게 정책을 생성한 후에 다시 이미지를 업로드해보면 정상적으로 작동하는 것을 확인할 수 있습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/32301380/217856852-64cb6752-3020-4c0b-bbe0-8ff2916c750d.png\" alt=\"image\"></p>","frontmatter":{"title":"supabase bucket new row violates row-level security policy for table \"objects\" 이슈 해결법(policy 설정법)","date":"February 10, 2023"}}},"pageContext":{"slug":"/supabase/supabase-bucket-new-row-violates-row-level-security-policy-for-table-\"objects\"-이슈-해결법(policy-설정법)/","previous":{"fields":{"slug":"/vue3/vue3-composition-api로-재사용가능한-코드-만들기-&-torefs-기능/"},"frontmatter":{"title":"vue3 composition api로 재사용가능한 코드 만들기 & toRefs 기능"}},"next":{"fields":{"slug":"/excel/특정-셀로-바로-가는-엑셀-링크-만드는-방법/"},"frontmatter":{"title":"특정 셀로 바로 가는 엑셀 링크 만드는 방법"}}}},"staticQueryHashes":["2486386679","3128451518"],"slicesMap":{}}